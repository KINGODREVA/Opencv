### 영상 쉐이드

```python
import cv2
import time
import random

cap = cv2.VideoCapture('muyaho.mp4')

# 영상의 크기를 구하기 w,h
w = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))
h = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))

# 영상을 열고 캡쳐하기
fourcc = cv2.VideoWriter_fourcc('m','p','4','v')
out = cv2.VideoWriter('output_%s.mp4' % time.time(), fourcc, cap.get(cv2.CAP_PROP_FPS) / 2, (w,h))

while cap.isOpened():
    ret, img = cap.read()
    if not ret:
        break

# 영상에 효과를 주기
    if random.random() > 0.9:
        theta = random.randint(-3,3)
        x, y = random.randint(-10,10), random.randint(-10,10)

        M = cv2.getRotationMatrix2D(center=(w//2, h//2), angle=theta, scale=1.0)
        M[0,2] += x
        M[1,2] += y

        img = cv2.warpAffine(img, M=M, dsize=(w,h))

    img = cv2.GaussianBlur(img, ksize=(5,5), sigmaX=0)

    gray, color = cv2.pencilSketch(img, sigma_s=60, sigma_r=0.01, shade_factor=0.15)

    cv2.imshow('gray',gray)

    if cv2.waitKey(1) == ord('q'):
        break

out.release()
cap.release()


```
